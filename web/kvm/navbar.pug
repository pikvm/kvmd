mixin navbar_led(id, icon, cls="led-gray")
	img(id=id, class=cls src=`${svg_dir}/${icon}.svg`)


mixin menu_message(icon, short, classes="")
	.text
		table
			tr
				td(rowspan="2") #[img(class=`sign ${classes}` src=`${svg_dir}/${icon}.svg`)]
				td(style="line-height:1.5") #[b #{short}]
			if block
				tr
					td
						sup(style="line-height:1")
							block


mixin menu_switch_td2_gpio(channel, confirm_off="")
	td
		block
	td(align="right")
		.switch-box
			input(
				disabled
				type="checkbox"
				id=`__gpio-switch-${channel}`
				class=`__gpio-switch-${channel} gpio-switch`
				data-gpio-channel=channel
				data-gpio-confirm-off=confirm_off
			)
			label(for=`__gpio-switch-${channel}`)
				span.switch-inner
				span.switch


mixin menu_switch_td2(id, enabled, checked)
	td
		block
	td(align="right")
		.switch-box
			input(checked=checked disabled=!enabled type="checkbox" id=id)
			label(for=id)
				span.switch-inner
				span.switch


mixin menu_switch_table(id, enabled, checked)
	table.kv
		tr
			+menu_switch_td2(id, enabled, checked)
				block


mixin menu_radio_items(name, items)
	each item in items
		-
			let id = `${name}-${item["value"]}`
			let checked = (item["checked"] || false)
		input(type="radio" id=id name=name value=item["value"] checked=checked)
		label(for=id) !{item["title"]}


mixin menu_radio_td2(name, items)
	td
		block
	td
		.radio-box
			+menu_radio_items(name, items)


mixin menu_slider_td3(slider_id, value_id, enabled)
	-
		enabled = (enabled || true)
	td
		block
	td.value-slider
		input(type="range" id=slider_id disabled=!enabled)
	td.value-number(id=value_id)


mixin menu_spoiler(title)
	details
		summary !{title}
		div(class="spoiler")
			block


button.hidden#navbar-show-button(data-wm-navbar-show data-wm-on-full-tab) &bull;&nbsp;&bull;&nbsp;&bull;

ul#navbar
	li.left
		a.menu-item.menu-action(href=root_prefix)
			div &larr;
			img.svg-gray(src=`${svg_dir}/logo.svg` alt="&pi;-kvm")

	include navbar-health.pug

	.hidden#navbar-stream-info(data-wm-on-full-tab)
		li.left
			.menu-item
				#stream-info

	.hidden#navbar-full-controls(data-wm-on-full-tab)
		li.right
			.menu-item
				button(id="navbar-hide-button") &#9650;
				button(id="navbar-normalize-button") &#10005;

	include navbar-system.pug
	include navbar-atx.pug
	include navbar-msd.pug
	include navbar-macro.pug
	include navbar-text.pug
	include navbar-shortcuts.pug
	include navbar-gpio.pug
	include navbar-switch.pug
