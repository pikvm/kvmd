li.right.feature-disabled#msd-dropdown
	.menu-item.menu-button(href="#")
		+navbar_led("msd-led", "led-msd")
		span Drive

	.hidden.menu#msd-menu
		.text
			b Mass Storage Drive: 
			span#msd-status
			br
		hr

		.hidden#msd-message-offline
			+menu_message("warning", "Mass Storage Drive is offline")
			hr
		.hidden#msd-message-image-broken
			+menu_message("warning", "Current image is broken!")
				| Perhaps uploading was interrupted
			hr
		.hidden#msd-message-too-big-for-dvd
			+menu_message("warning", "Current image is too big for DVD!")
				| The maximum is 31.6GiB. Please switch to the Flash mode.
			hr
		.hidden#msd-message-out-of-storage
			+menu_message("warning", "Current image is out of storage")
				| This image was connected manually using #[b kvmd-otgmsd]
			hr
		.hidden#msd-message-rw-enabled
			+menu_message("warning", "Read-write mode is enabled")
				| Do not turn off PiKVM while this is active to prevent#[br]
				| filesystem corruption. Use read-only mode where possible,#[br]
				| as writing to SD card often can reduce its lifespan.
			hr
		.hidden#msd-message-downloads
			+menu_message("info", "The image is being downloaded from PiKVM")
				| Please wait
			hr

		table.kv
			tr
				td(colspan="10")
					.radio-box(style="justify-content: right;")
						+menu_radio_items("msd-sorting-radio", [
							{title: "Sort by name", value: "name", checked: true},
							{title: "Newest first", value: "mtime"},
						])
			tr
				td Image:
				td(width="100%" colspan="4") #[select#msd-image-selector(disabled)]
				td #[button#msd-remove-button(disabled title="Remove image") #[b &nbsp;&nbsp;&#10005;&nbsp;&nbsp;]]
			tr
				+menu_radio_td2("msd-mode-radio", [
					{title: "CD/DVD", value: "1", checked: true},
					{title: "Flash", value: "0"},
				]) #[a(target="_blank" href="https://docs.pikvm.org/msd") Mode]:
				+menu_switch_td2("msd-rw-switch", false, false) Writable:
				td(style="width: 100%;")
				td #[button#msd-download-button(disabled title="Download image") #[b &nbsp;&nbsp;&#x21E9;&nbsp;&nbsp;]]
		hr

		#msd-storages
		hr

		.buttons.buttons-row
			button.row50#msd-connect-button Connect drive
			button.row50.hidden#msd-disconnect-button Disconnect drive
			button.row25#msd-select-new-button(disabled) Upload
			button.row25#msd-reset-button Reset
		hr

		.hidden#msd-message-another-user-uploads
			+menu_message("info", "Another user uploading an image")
			hr

		.hidden#msd-new-sub
			+menu_message("info", "Specify a new image and start uploading")
				| Don't close the browser page until the upload is complete.<br>
				| To speed up the process, you can close the stream window.
			hr
			table.kv
				tr
					td Local file:
					td #[input#msd-new-file(type="file")]
				tr
					td #[b Or] remote URL:
					td #[input#msd-new-url(type="text" style="width: 100%")]
				tr.hidden#msd-new-part
					td Upload partition:
					td(width="100%") #[select#msd-new-part-selector]
				tr
					td
					td #[button#msd-upload-new-button(disabled) Start uploading]
			hr

		.hidden#msd-uploading-sub
			.text
				.progress#msd-uploading-progress
					span.progress-value#msd-uploading-progress-value
			table.kv
				tr
					td New image:
					td.value#msd-uploading-name
				tr
					td Upload size:
					td.value#msd-uploading-size
				tr
					td
					td #[button#msd-abort-new-button(disabled) Abort uploading]
